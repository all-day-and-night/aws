# Amazon EC2 인스턴스 유형

> 다양한 작업에 따라 최적화 되어 있음

> 워크로드 및 애플리케이션의 구체적 요구사항을 고려하여 인스턴스 유형 선택

> 컴퓨팅, 메모리, 스토리지 기능에 대한 요구 사항 포함

### 범용 인스턴스

> 컴퓨팅, 메모리, 네트워킹 리소스를 균형있게 제공

+ 애플리케이션 서버
+ 게임서버
+ 엔터프라이즈 애플리케이션용 백엔드 서버
+ 중소규모 데이터베이스

> 최적화가 필요하지 않은 애플리케이션에 적합

### 컴퓨팅 최적화 인스턴스

> 고성능 프로세서를 활용하는 컴퓨팅 집약적인 애플리케이션

> 범용 인스턴스에 적합한 서버에 사용할 수 있다.

> 하지만, 고성능 웹 서버, 컴퓨팅 집약적 애플리케이션 서버 및 게임 전용 서버에 적합

> 단일 그룹에서 많은 트랜잭션을 처리해야 하는 일괄처리 워크로드에 사용할 수 있음

### 메모리 최적화 인스턴스

> 메모리에서 대규모 데이터 셋을 처리하는 워크로드를 위한 빠른 성능 제공

> 고성능 데이터베이스, 방댜핸 양의 비정형 데이터의 실시간 처리가 필요한 워크로드를 사용할 때 적합

> 많은 메모리가 필요한 워크로드를 실행하고 뛰어난 성능 얻을 수 있음



### 엑셀러레이티드 컴퓨팅 인스턴스

> 하드웨어 액셀러레이터, 코프로세서를 사용하여 일부 기능을 CPU에서 실행되는 소프트웨어보다 더 효율적으로 수행

> 부동 소주점 수 계산, 그래픽 처리, 데이터 패턴 일치 등

> 데이터 처리 가속화

> 그래픽, 게임 스트리밍, 애플리케이션 스트리밍 등에 적합 


### 스토리지 최적화 인스턴스

> 로컬 스토리지의 대규모 데이터 셋에 대한 순차적 읽기 및 쓰기 액세스가 많이 필요한 워크로드를 위해 설계

> 분산 파일 시스템, 데이터 웨어 하우징 애플리케이션, 고빈도 온라인 트랜잭션 처리 시스템 등에 적합


# Amazon EC2 요금

> 사용한 컴퓨팅 시간에 대해서만 비용 지불

> 사용 사례에 따라 다양한 요금 옵션을 제공

### 온디맨드

> 중단할 수 없는 불규칙한 단기 워크로드가 있는 애플리케이션에 매우 적합

> 선결제 비용이나 최소 약정은 적용되지 않음, 인스턴스가 중지될 때까지 계속 실행

> 사용한 컴퓨팅 시간에 대해서만 비용 지불

### Amazon EC2 savings Plans

> EC2를 비롯한 여러 컴퓨팅 서비스에 대한 Savings Plans를 제공

> 1년 또는 3년 기간 동안 일정한 컴퓨팅 사용량을 약정하여 컴퓨팅 비용 절감(최대 72%)

> AWS Cost Explorer : 컴퓨팅 사용량 분석 가능

### 예약 인스턴스

> 온디맨드 인스턴스를 사용할 때 적용되는 결제 할인 옵션

> 약정기간이 끝나면 중단없이 Amazon EC2 인스턴스를 계속 사용 가능

> 인스턴스 종료, 인스턴스 속성과 일치하는 새 예약 인스턴스 구입시 온디맨드 요금 부과

### 스팟 인스턴스 

> 시작 및 종료 시간이 자유롭거나 중단을 견딜 수 있는 워크로드에 적합

> ex) 고객 설문 조사 데이터 처리 작업

### 전용 호스트

> 사용자 전용의 Amazon EC2 인스턴스 용량을 갖춘 물리적 서버

> 기존 소켓당, 코어당, 또는 VM당 소프트웨어 라이센스를 사용하여 라이센스 규정 준수를 유지할 수 있음

> 가장 비싼 옵션

# Amazon EC2 확장

### 확장성

> 확장성을 위해서는 필요한 리소스만으로 시작하고 확장 및 축소를 통해 수요 변화에 자동으로 대응하도록 아키텍처 설계(Amazon Auto Scailing)

### Amazon EC2 Auto Scailing

> 변화하는 애플리케이션의 수요에 따라 Amazon EC2 인스턴스를 자동으로 추가하거나 제거할 수 있다.

* 동적 조정: 수요 변화에 대응
* 예측 조정: 예측된 수요에 따라 적절한 수의 인스턴스를 자동으로 예약
> 둘 다 사용할 경우 더 빠르게 조정 가능

### Amazon EC2 규모 조정

+ Auto Scailing

> 클라우드에서는 컴퓨팅 파워가 프로그래밍 방식의 리소스이므로 더 유연한 조정방식을 사용할 수 있다.

> Auto Scailing을 애플리케이션에 추가하면 필요할 때 새 인스턴스를 애플리케이션에 추가했다가 더이상 필요하지 않으면 종료할 수 있다.


# Elastic Load Balancing을 사용하여 트래픽 리다이렉션

### Elastic Load Balancing

> 애플리케이션 트래픽을 Amazon EC2 인스턴스와 같은 여러 리소스에 자동으로 분산하는 시스템

> 로드 밴럴ㄴ서는 Auto Scailing 그룹으로 들어오는 모든 웹 트래픽의 단일 접점 역할을 한다.

> 트래픽의 양에 맞춰 Amazon Ec2 인스턴스를 추가하거나 제거하므로 이러한 요청이 로드 밸런서로 먼저 라우팅되고 여러 리소스로 분산된다.

> 한 인스턴스에 트래픽이 몰리는 것 방지

> Auto Scailing과 연동하여 사용할 때 뛰어난 성능과 가용성을 제공


# 메시징 및 대기열

### 모놀리식 애플리케이션

> 모놀리식 애플리케이션은 여러 구성 요소가 밀결합된 형태로 구현된 애플리케이션이며

> 한 구성 요소에서 장애가 발생하면 다른 구성 요소에서 장애가 발생하고, 심지어 전체 애플리케이션에 장애가 발생할 수 있음

### 마이크로 서비스 접근 방식

> 애플리케이션 구성 요소가 소결합된 상태

> 단일 구성 요소에 장애가 발생해도 다른 구성 요소들은 서로 통신하기 때문에 계속 작동

> 서로 다른 구성 요소와 통신할 때 사용하는 서비스 : Amazon simple Notification Service(Amazon SNS, Message Queue)



# 추가 컴퓨팅 서비스

### 서버리스 컴퓨팅

> EC2와 다르게 코드가 서버에서 실행되지만, 프로비저닝하거나 관리할 필요가 없다는 뜻

> 서버를 유지 관리하는 대신 재로운 제품과 기능을 혁신하는데 집중 할 수 있음

> 서버리스 애플리케이션을 자동으로 확장할 수 있는 유연성

> 처리량, 메모리와 같은 소비 단위를 수정하여 애플리케이션의 용량을 조정할 수 있음

> AWS Lambda

### AWS Lambda

> 서버리스 컴퓨팅 제품

> 사용한 컴퓨팅 시간에 대해서만 비용 지불(코드를 실행하는 동안에만 요금 부과)

+ 작동 방식

1. lambda에 코드 업로드
2. 이벤트 소스에서 트리거 되도록 코드 설정
3. 코드는 트리거 될때만 실행됨
4. 사용한 컴퓨팅 시간에 대해서만 비용 지불


### Amazon Elastic Container Service(Amazon ECS)

> AWS 에서 컨테이너식 애플리케이션을 실행하고 확장할 수 있는 확장성이 뛰어난 고성능 컨테이너 관리 시스템

> Docker 컨테이너 지원

+ Docker

> 애플리케이션을 신속하게 구축, 테스트, 배포할 수 있는 소프트웨어 플랫폼

### Amazon Elastic Kubernetes Service(Amazon EKS)

> 쿠버네티스는 컨테이너식 애플리케이션을 대규모로 배포하고 관리하는데 사용할 수 있는 오픈소스 소프트웨어

### AWS Fargate

> 컨테이너용 서버리스 컴퓨팅 엔진, ECS와 EKS에서 작동















